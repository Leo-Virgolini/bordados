<header class="bg-surface-0 border-bottom-1 border-surface-200 shadow-2">
    <p-menubar [model]="items" styleClass="border-none p-3">
        <ng-template #start>
            <div class="flex align-items-center gap-3">
                <a [routerLink]="'/'" class="flex align-items-center no-underline hover:scale-105 transition-transform transition-duration-200">
                    <img src="logos/logo2.png" alt="Logo" class="w-3rem h-3rem border-round shadow-1">
                </a>
                <span class="text-xl font-bold text-primary hidden md:inline-block">BorDados</span>
            </div>
        </ng-template>

        <ng-template #item let-item let-root="root">
            <a pRipple [routerLink]="item.routerLink"
                class="flex align-items-center p-menubar-item-link hover:bg-primary-50 hover:text-primary transition-colors transition-duration-200 border-round">
                <i *ngIf="item.icon" [class]="item.icon" class="mr-2"></i>
                <span class="font-medium">{{ item.label }}</span>
                <i *ngIf="item.items" [ngClass]="['ml-auto pi', root ? 'pi-angle-down' : 'pi-angle-right']"></i>
            </a>
        </ng-template>

        <ng-template #end>
            <div class="flex align-items-center gap-3">
                <!-- Enhanced Search Bar -->
                <div class="relative hidden md:block">
                    <p-inputgroup>
                        <input type="text" pInputText placeholder="Buscar productos..."
                            class="w-20rem bg-surface-100 focus:bg-surface-0 focus:shadow-2 transition-all transition-duration-200" />
                        <p-inputgroup-addon>
                            <p-button icon="pi pi-search" severity="secondary" variant="text" />
                        </p-inputgroup-addon>
                    </p-inputgroup>
                </div>

                <!-- Admin Button -->
                <p-button label="Admin" icon="pi pi-cog" routerLink="/admin" [outlined]="true" [rounded]="true" size="small"
                    styleClass="hidden md:inline-flex hover:bg-primary-50 hover:text-primary transition-colors transition-duration-200" />

                <!-- User Profile Button -->
                <p-button icon="pi pi-user" size="large" [text]="true" [rounded]="true" styleClass="hover:bg-primary-50 hover:text-primary transition-colors transition-duration-200" />

                <!-- Shopping Cart Button with Enhanced Badge -->
                <div class="relative">
                    <p-overlaybadge *ngIf="getCarritoSize()" [value]="getCarritoSize()" severity="danger" badgeSize="small">
                        <p-button routerLink="/carrito" [rounded]="true" styleClass="hover:bg-primary-50 hover:text-primary transition-colors transition-duration-200">
                            <i class="pi pi-shopping-cart" style="font-size: 1.2rem"></i>
                        </p-button>
                    </p-overlaybadge>
                </div>

                <!-- Dark Mode Toggle -->
                <p-button [raised]="true" [rounded]="true" [outlined]="true" severity="primary" [icon]="isDark ? 'pi pi-moon' : 'pi pi-sun'" (click)="toggleDarkMode()"
                    styleClass="hover:shadow-3 transition-shadow transition-duration-200" />
            </div>
        </ng-template>
    </p-menubar>
</header>